<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <script src="../public/javascripts/jquery-1.4.2.min.js"></script>
    <script src="../public/javascripts/flexirails.helper.js"></script>
    <script src="../public/javascripts/qunit.js"></script>
    <link  href="../public/stylesheets/qunit.css" type="text/css" media="screen" rel="stylesheet"/>
    <script>
      $(document).ready(function(){
        
        module("column moving");
        test("moveLeft", function() {
          equals($("#moveLeft > #last").prev().attr('id'), "middle", "before calling moveLeft");
          $("#moveLeft > #last").moveLeft();
          equals($("#moveLeft > #last").prev().attr('id'), "first", "after calling moveLeft");
        });
        
        test("moveRight", function() {
          equals($("#moveRight > #first").next().attr('id'), "middle", "before calling moveRight");
          $("#moveRight > #first").moveRight();
          equals($("#moveRight > #first").next().attr('id'), "last", "after calling moveRight");
        });
        
        module("extractAttribute");
        test("with root value", function() {
          var obj = {foo:'bar'};
          equals($.extractAttribute(obj, 'root.foo'), 'bar', 'extracted attribute from root object');
        });
        
        test("with nested value", function() {
          var obj = {foo:{bar:'baz'}};
          equals($.extractAttribute(obj, 'root.foo.bar'),'baz', 'extracted attribute from nested object');
        });
        
        test("with missing value", function() {
          var obj = {bar:'baz'};
          equals($.extractAttribute(obj, 'root.foo'), null, 'extract missing attribute');
        });

      });
    </script>
  </head>
  <body>
    <div id="moveLeft">
      <div id="first"></div><div id="middle"></div><div id="last"></div>
    </div>
    <div id="moveRight">
      <div id="first"></div><div id="middle"></div><div id="last"></div>
    </div>
    <h1 id="qunit-header">FlexiRails JS-Helper</h1>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
  </body>
</html>