<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>jquery-flexirails</title>
    
    <link rel="stylesheet" href="css/jquery-ui-1.8.16.css" type="text/css" media="all" />
    
    <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.16.min.js"></script>
    
    <script type="text/javascript" src="js/handlebars-1.0.2.js"></script>
    <script type="text/javascript" src="js/jquery-localize.js"></script>
    <script type="text/javascript" src="js/jquery-flexirails.js"></script>
    <script type="text/javascript">
      $(function() {
        $( "#tabs" ).tabs();
      });
    </script>
  </head>
  <body>
    <div id="outer">
      <div id="inner">
        
        <div id="tabs">
          <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#documentation">Documentation</a></li>
          </ul>
        
        <!-- The about flexirails page -->
        <div id="about">
          <h1>jquery-flexirails</h1>
          <p>Flexirails is a table plugin for jquery</p>
        </div>
        
        <div id="examples">
          <h1>Example #1 - Static Array as datasource</h1>
          <div id="staticExample"></div>
          
          <script type="text/javascript">
            
            var cities = [
              { name: 'Kiel', country: 'Germany' },
              { name: 'New York', country: 'USA' },
              { name: 'Oklahoma', country: 'USA' },
              { name: 'Tenessee', country: 'USA' },
              { name: 'Hamburg', country: 'Germany' },
              { name: 'Frankfurt', country: 'Germany' },
              { name: 'München', country: 'Germany' }
            ]
            
            var view = {
              columns: [
                {title:'City',attribute:'name'}, {title:'Country',attribute:'country'}
              ]
            }
          
            $("#staticExample").flexirails({
              'datasource': cities, 
              'view': view, 
              'paginationOnBottom': false, 
              adapter: {
                perPageOptions: [1,2,3,4,5]
              }
            });
          </script>

          <hr/>
        
          <h1>Example #2 - I18n using jquery localize</h1>
          <div id="localizeExample"></div>
          <select id="language">
            <option value="-">Select a language</option>
            <option value="de">German</option>
            <option value="en">English</option>
          </select>
          <script type="text/javascript">
            $("#language").change(function() {
              var lang = $(this).val();
              $($("#localizeExample").find("[rel*=localize]")).localize('flexirails', { 
                pathPrefix:'lang',
                language: lang
              });
            });
            
            var cities = [
              { name: 'Kiel', country: 'Germany' },
              { name: 'New York', country: 'USA' },
              { name: 'Oklahoma', country: 'USA' },
              { name: 'Tenessee', country: 'USA' },
              { name: 'Hamburg', country: 'Germany' },
              { name: 'Frankfurt', country: 'Germany' },
              { name: 'München', country: 'Germany' }
            ]
            
            var view = {
              columns: [
                {title:'City',attribute:'name'}, {title:'Country',attribute:'country'}
              ]
            }
          
            $("#localizeExample").flexirails({
              'datasource': cities, 
              'view': view, 
              'paginationOnBottom': false, 
              adapter: {
                perPageOptions: [1,2,3,4,5]
              }
            });
          </script>

          <hr/>

          <h1>Example #3 - Custom cell formatters</h1>
          <div id="formattersExample"></div>
          
          <script type="text/javascript">
            
            var data = [
              { a: 1 , b: 2,total: 0},
              { a: 2 , b: 3,total: 0},
              { a: 3 , b: 4,total: 0},
              { a: 5 , b: 5,total: 0},
              { a: 7 , b: 6,total: 0},
              { a: 11, b: 7,total: 0},
              { a: 13, b: 8,total: 0}
            ]
            
            var view = {
              columns: [
                {title:'A',attribute:'a'}, {title:'B',attribute:'b'}, {title:'Total', attribute:'total'}
              ]
            }
          
            $("#formattersExample").flexirails({
              'datasource': data, 
              'view': view, 
              'paginationOnBottom': false,
              formatters: {
                'total' : function(td, col, obj, atr) {
                  td.append(obj.a + obj.b);
                }
              }
            });
          </script>
        </div>
        
        <div id="documentation">
          <h1>Documentation</h1>
          <h2>$.fn.flexirails options</h2>
          <table>
            <thead>
              <tr>
                <td>Option</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>datasource</td>
                <td>The source which flexirails will use for data-retrieval. Can either be a static array, or an Adapter</td>
              </tr>
              <tr>
                <td>view</td>
                <td>The view which will be used to create the underlying HTML-table</td>
              </tr>
              <tr>
                <td>adapter</td>
                <td>Options to be used by the adapter</td>
              </tr>
              <tr>
                <td>paginationOnBottom</td>
                <td>Boolean. Display a pagination menu on the bottom of the flexirails table</td>
              </tr>
              <tr>
                <td>paginationOnTop</td>
                <td>Boolean. Display a pagination menu on the top of the flexirails table</td>
              </tr>
              <tr>
                <td>formatters</td>
                <td>An object holding custom cell-formatters.</td>
              </tr>
            </tbody>
          </table>
          <!-- ToDo documentation for Adapter and view-->
        </div>
        
        </div>
      </div>
    </div>
  </body>
</html>
